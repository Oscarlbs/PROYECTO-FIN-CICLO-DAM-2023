{"version":3,"sources":["webpack:///src/app/models/News.ts","webpack:///src/environments/environment.ts","webpack:///src/app/components/buy-modal/buy-modal.component.ts","webpack:///src/app/components/buy-modal/buy-modal.component.html","webpack:///src/app/models/CompanyDetails.ts","webpack:///src/app/models/CompanySearchResult.ts","webpack:///src/app/components/details/details.component.ts","webpack:///src/app/components/details/details.component.html","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/services/alerts.service.ts","webpack:///src/app/models/HistChart.ts","webpack:///src/app/app.module.ts","webpack:///src/app/components/portfolio/portfolio.component.ts","webpack:///src/app/components/portfolio/portfolio.component.html","webpack:///src/app/services/search.service.ts","webpack:///src/app/components/ticker-search/ticker-search.component.ts","webpack:///src/app/components/ticker-search/ticker-search.component.html","webpack:///src/app/services/details.service.ts","webpack:///src/app/models/DailyChart.ts","webpack:///src/app/app-routing.module.ts","webpack:///src/app/components/news-modal/news-modal.component.ts","webpack:///src/app/components/news-modal/news-modal.component.html","webpack:///src/app/models/CompanyPrice.ts","webpack:///src/main.ts","webpack:///src/app/components/watchlist/watchlist.component.ts","webpack:///src/app/components/watchlist/watchlist.component.html","webpack:///$_lazy_route_resource lazy namespace object"],"names":["News","url","title","description","source","urlToImage","publishedAt","formateDate","encodedUrl","encodeURIComponent","encodedTitle","date","Date","month","Intl","DateTimeFormat","format","year","getFullYear","day","getDay","environment","production","BuyModalComponent","modalService","alertService","companyPrice","companyDetail","itemBuyEvent","qty","total","isDisabled","content","open","isBuy","portfolio","JSON","parse","localStorage","getItem","totqty","ticker","parseFloat","last","toFixed","totQty","totCost","name","setItem","stringify","emit","showBuyAlert","totbought","i","idx","selector","templateUrl","styleUrls","buttonPortfolio","CompanyDetails","startDate","exchangeCode","CompanySearchResult","DetailsComponent","detailService","route","companyDetails","dailyChart","histData","dailyData","isLoading","isChangePos","isChangeNeg","isError","isAddedToFav","updateFlag","HighchartsDaily","chartConstructor","chartOptionsDaily","time","timezoneOffset","navigator","series","fillOpacity","color","type","data","tooltip","valueDecimals","rangeSelector","enabled","useHTML","HighchartsHist","updateFromInput","chartOptionsHist","selected","text","subtitle","yAxis","startOnTick","endOnTick","labels","align","x","height","lineWidth","resize","top","offset","split","plotOptions","dataGrouping","units","groupPixelWidth","id","zIndex","linkedTo","params","volumeSeriesID","dataLabels","zoneLines","marker","clearInterval","interval","paramMap","subscribe","get","toUpperCase","watchlist","setInterval","update","getCompanyDetails","responseList","results","length","change","isMarketOpen","getDailyChart","timestamp","slice","res","updateDailyChart","getNewsAndHisChart","companyNews","histChart","updateHistChart","ohlc","push","high","low","close","volumne","volume","getTime","showWatchlistAlert","getMultiCompanyInfo","AppComponent","AlertsService","isAdded","clearTimeout","watchlistTimer","alertType","alertText","document","querySelector","innerHTML","setTimeout","$","alert","buyTimer","providedIn","HistChart","AppModule","declarations","imports","providers","bootstrap","PortfolioComponent","isPortfolioEmpty","portfolioList","portfolioData","portfolioCompPrice","updateData","index","portfolioKeys","Object","keys","sort","observables","map","item","updateDisplay","avgCost","totalCost","splice","marketVal","SearchService","http","filter","pipe","response","company","TickerSearchComponent","fb","appService","router","companySResults","searchForm","group","userInput","valueChanges","value","search","companys","tickerVal","navigateByUrl","onSubmit","DetailsService","rootURL","tickers","join","success","price","prevClose","mid","bidSize","bidPrice","askSize","askPrice","a","b","detail$","detail","price$","chartData","news$","news","hist$","DailyChart","routes","path","component","redirectTo","pathMatch","AppRoutingModule","forRoot","exports","NewsModalComponent","currNews","CompanyPrice","perChange","dataDate","currDate","dataDateStr","getDateStr","getDateTimeStr","currDateStr","hr","getHours","min","getMinutes","sec","getSeconds","getMonth","getDate","bootstrapModule","err","console","error","WatchlistComponent","isWatchListEmpty","watchlistCompDetail","watchlistCompPrice","watchlistData","watchlistKeys","updateDisplayData","e","stopPropagation","webpackEmptyAsyncContext","req","Promise","resolve","then","Error","code","module"],"mappings":"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","file":"main-es5.js","sourcesContent":["export class News {\r\n\r\n    public encodedUrl: string;\r\n    public encodedTitle: string;\r\n\r\n    constructor(\r\n        public url: string, \r\n        public title: string,\r\n        public description: string,\r\n        public source: string,\r\n        public urlToImage: string,\r\n        public publishedAt: string) {\r\n\r\n            this.publishedAt = this.formateDate(publishedAt);\r\n            this.encodedUrl = encodeURIComponent(url);\r\n            this.encodedTitle = encodeURIComponent(title);\r\n\r\n    }\r\n\r\n    public formateDate(publishedAt: string): string{\r\n\r\n        const date = new Date(publishedAt);\r\n        const month = new Intl.DateTimeFormat('en-US', { month: 'long'} ).format(date);\r\n        const year = date.getFullYear();\r\n        const day = date.getDay();\r\n        return (month + ' ' + day + ', ' + year);\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nexport interface NewsResponse {\r\n    results: News[];\r\n    success: boolean;\r\n}","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { last } from 'rxjs/operators';\r\nimport { CompanyDetails } from 'src/app/models/CompanyDetails';\r\nimport { CompanyPrice } from 'src/app/models/CompanyPrice';\r\nimport { AlertsService } from 'src/app/services/alerts.service';\r\n\r\n@Component({\r\n  selector: 'app-buy-modal',\r\n  templateUrl: './buy-modal.component.html',\r\n  styleUrls: ['./buy-modal.component.css']\r\n})\r\nexport class BuyModalComponent implements OnInit {\r\n\r\n  @Input() companyPrice: CompanyPrice[] = [];\r\n  @Input() companyDetail: CompanyDetails[] = [];\r\n  @Input() isBuy: boolean;\r\n  @Input() idx: number;\r\n  @Input() buttonPortfolio: boolean;\r\n  @Output() itemBuyEvent = new EventEmitter<number>();\r\n  qty = 0;\r\n  total = 0\r\n  isDisabled = true;\r\n\r\n  constructor(private modalService: NgbModal, private alertService: AlertsService) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  open(content) {\r\n    this.isDisabled = true;\r\n    this.qty = 0;\r\n    this.total = 0;\r\n    this.modalService.open(content);\r\n  }\r\n  \r\n\r\n  onKey(qty: number) {\r\n    this.qty = +qty;\r\n    this.isDisabled = true;\r\n\r\n    if (qty > 0){\r\n      this.isDisabled = false;\r\n    }\r\n\r\n    // if the modal is for sell\r\n    if (!this.isBuy){\r\n      let portfolio = JSON.parse(localStorage.getItem(\"portfolio\")) || {};\r\n      let totqty = portfolio[this.companyPrice[0].ticker][0]\r\n\r\n      if (qty > totqty){\r\n        this.isDisabled = true;\r\n      }\r\n\r\n    }\r\n\r\n    this.total = parseFloat((qty * this.companyPrice[0].last).toFixed(2))\r\n  }\r\n\r\n  buy() {\r\n\r\n    var portfolio = JSON.parse(localStorage.getItem(\"portfolio\")) || {};\r\n    var totQty = this.qty;\r\n    var totCost = parseFloat((this.companyPrice[0].last * this.qty).toFixed(2));\r\n\r\n    var name;\r\n    if (this.companyDetail[0]){\r\n      name = this.companyDetail[0].name;\r\n    }else{\r\n      name = portfolio[this.companyPrice[0].ticker][2];\r\n    }\r\n    \r\n\r\n    if (portfolio[this.companyPrice[0].ticker]){\r\n      totQty += parseFloat(portfolio[this.companyPrice[0].ticker][0]);\r\n      totCost = parseFloat((totCost + parseFloat(portfolio[this.companyPrice[0].ticker][1])).toFixed(2));\r\n    }\r\n\r\n\r\n    portfolio[this.companyPrice[0].ticker] = [totQty, totCost, name];\r\n    localStorage.setItem(\"portfolio\", JSON.stringify(portfolio));\r\n      \r\n    this.itemBuyEvent.emit(-1);\r\n    this.alertService.showBuyAlert(this.companyPrice[0].ticker);\r\n\r\n\r\n  }\r\n\r\n  sell(){\r\n\r\n    var portfolio = JSON.parse(localStorage.getItem(\"portfolio\"));\r\n    var totQty = parseFloat(portfolio[this.companyPrice[0].ticker][0]) - this.qty;\r\n\r\n    var totCost;\r\n    var totbought = this.qty * parseFloat(portfolio[this.companyPrice[0].ticker][1]) / parseFloat(portfolio[this.companyPrice[0].ticker][0])\r\n    var name = portfolio[this.companyPrice[0].ticker][2]\r\n    let i = -1;\r\n\r\n    totCost = parseFloat((parseFloat(portfolio[this.companyPrice[0].ticker][1]) - totbought).toFixed(2));\r\n    portfolio[this.companyPrice[0].ticker] = [totQty, totCost, name];\r\n\r\n    if (totQty <= 0){\r\n      delete portfolio[this.companyPrice[0].ticker];\r\n      i = this.idx;\r\n    }\r\n\r\n    localStorage.setItem(\"portfolio\", JSON.stringify(portfolio));\r\n    this.itemBuyEvent.emit(i);\r\n\r\n  }\r\n}\r\n","<div class=\"col\">\r\n    <div *ngIf=\"isBuy; else sellBlock\">\r\n        <div *ngIf=\"buttonPortfolio; else detailButton\">\r\n            <button class='btn btn-primary' (click)=\"open(content)\">Buy</button>\r\n        </div>\r\n        <ng-template #detailButton>\r\n            <button class='btn btn-success' (click)=\"open(content)\">Buy</button>\r\n        </ng-template>\r\n\r\n    </div>\r\n    <ng-template #sellBlock>\r\n        <button class='btn btn-danger' (click)=\"open(content)\">Sell</button>\r\n    </ng-template>\r\n</div>\r\n\r\n\r\n<ng-template #content let-c=\"close\" let-d=\"dismiss\" >\r\n    <div class=\"modal-header\">\r\n      <div class=\"modal-title\" id=\"\" >\r\n          <h5> {{ companyPrice[0].ticker }} </h5>\r\n      </div>\r\n\r\n      <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"d('Cross click')\">\r\n        <span aria-hidden=\"true\">&times;</span>\r\n      </button>\r\n    </div>\r\n    <div class=\"modal-body\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col\">\r\n                    <div>\r\n                        Current Price: {{ companyPrice[0].last }}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"row\">\r\n                <label for=\"inputQty\" class=\"col-sm-auto col-form-label\">Quantity</label>\r\n                <div class=\"\">\r\n                    <input #qty (keyup)=\"onKey(qty.value)\" type=\"number\" class=\"form-control\" id=\"inputQty\" value=\"0\" ngbAutofocus onfocus=\"let value = this.value; this.value = null; this.value=value\">\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n    <div class=\"modal-footer\">\r\n        <div class=\"col d-flex\">\r\n            <div class=\"mr-auto p-2\">\r\n                Total: {{ total }}\r\n            </div>\r\n            <div class=\"\">\r\n                <div *ngIf=\"isBuy; else sellBlock\">\r\n                    <button class='btn btn-success' (click)=\"buy()\" (click)=\"c('buy click')\" [disabled]=\"isDisabled\">Buy</button>\r\n                </div>\r\n                <ng-template #sellBlock>\r\n                    <button class='btn btn-success' (click)=\"sell()\" (click)=\"c('buy click')\" [disabled]=\"isDisabled\">Sell</button>\r\n                </ng-template>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</ng-template>\r\n","export class CompanyDetails {\r\n\r\n    constructor(\r\n        public ticker: string, \r\n        public name: string,\r\n        public description: string,\r\n        public startDate: string,\r\n        public exchangeCode: string) {\r\n\r\n    }\r\n}\r\n\r\nexport interface DetailsResponse {\r\n    results: CompanyDetails[];\r\n    success: boolean;\r\n}","import { NumberInput } from '@angular/cdk/coercion';\r\n\r\nexport class CompanySearchResult {\r\n\r\n    constructor(public ticker: string, public name: string) {}\r\n}\r\n\r\nexport interface InSearchResponse {\r\n    total: Number;\r\n    results: CompanySearchResult[];\r\n}","import { Component, OnInit } from '@angular/core';\r\nimport { DetailsService } from 'src/app/services/details.service';\r\nimport { ActivatedRoute } from \"@angular/router\";\r\nimport { CompanyDetails } from 'src/app/models/CompanyDetails';\r\nimport { CompanyPrice } from 'src/app/models/CompanyPrice';\r\nimport * as Highcharts from \"highcharts/highstock\";\r\n// import { DailyChart } from 'src/app/models/DailyChart';\r\n// import { tick } from '@angular/core/testing';\r\nimport { News } from 'src/app/models/News';\r\nimport { HistChart } from 'src/app/models/HistChart';\r\n// import Exporting from 'highcharts/modules/exporting';\r\nimport IndicatorsCore from \"highcharts/indicators/indicators\";\r\nimport vbp from 'highcharts/indicators/volume-by-price';\r\nimport { AlertsService } from 'src/app/services/alerts.service';\r\n// import { timer } from 'rxjs';\r\n\r\nIndicatorsCore(Highcharts);\r\nvbp(Highcharts);\r\n\r\n@Component({\r\n  selector: 'app-details',\r\n  templateUrl: './details.component.html',\r\n  styleUrls: ['./details.component.css']\r\n})\r\nexport class DetailsComponent implements OnInit {\r\n\r\n  companyDetails: CompanyDetails[] = [];\r\n  companyPrice: CompanyPrice[];\r\n  companyNews: News[];\r\n  dailyChart = [];\r\n  histChart: HistChart[];\r\n  histData = {\r\n    'volumne': [],\r\n    'ohlc': []\r\n  };\r\n  dailyData = [];\r\n  ticker: string;\r\n  isLoading = true;\r\n  isChangePos = false;\r\n  isChangeNeg = false;\r\n  isError = false;\r\n  isAddedToFav = false;\r\n  updateFlag = false;\r\n  interval;\r\n\r\n  // High charts initialization\r\n  HighchartsDaily: typeof Highcharts = Highcharts;\r\n  chartConstructor: string = 'chart'; // optional string, defaults to 'chart'\r\n  chartOptionsDaily: Highcharts.Options = {\r\n\r\n    time: {\r\n      // timezone: 'America/Los_Angeles',\r\n      timezoneOffset: 8 * 60\r\n      // useUTC: false\r\n    },\r\n\r\n    navigator: {\r\n    \r\n      series: [{\r\n          /* fillOpacity: 0.05, */\r\n          fillOpacity: 1.0,\r\n          color: '',\r\n      }]\r\n    },\r\n\r\n    series: [\r\n      {\r\n        type: 'spline',\r\n        data: [],\r\n        tooltip: {\r\n          valueDecimals: 2\r\n        }\r\n      }\r\n    ],\r\n    rangeSelector:{\r\n      enabled:false\r\n    },\r\n    title: {\r\n      useHTML: true,\r\n    },\r\n  }\r\n\r\n\r\n  HighchartsHist: typeof Highcharts = Highcharts;\r\n  updateFromInput = false;\r\n  chartOptionsHist: Highcharts.Options = {\r\n\r\n    rangeSelector: {\r\n      selected: 2,\r\n    },\r\n\r\n    title: {\r\n        text: ''\r\n    },\r\n\r\n    subtitle: {\r\n        text: 'With SMA and Volume by Price technical indicators'\r\n    },\r\n\r\n    yAxis: [{\r\n        startOnTick: false,\r\n        endOnTick: false,\r\n        labels: {\r\n            align: 'right',\r\n            x: -3\r\n        },\r\n        title: {\r\n            text: 'OHLC'\r\n        },\r\n        height: '60%',\r\n        lineWidth: 2,\r\n        resize: {\r\n            enabled: true\r\n        }\r\n    }, {\r\n        labels: {\r\n            align: 'right',\r\n            x: -3\r\n        },\r\n        title: {\r\n            text: 'Volume'\r\n        },\r\n        top: '65%',\r\n        height: '35%',\r\n        offset: 0,\r\n        lineWidth: 2\r\n    }],\r\n\r\n    tooltip: {\r\n        split: true\r\n    },\r\n\r\n    plotOptions: {\r\n        series: {\r\n            dataGrouping: {\r\n                units: [\r\n                  ['day', [1]],\r\n                  ['week', [1]], \r\n                  ['month', [1]],\r\n                  ['year', null]\r\n                ],\r\n\r\n              groupPixelWidth: 20\r\n      \r\n            }\r\n        }\r\n    },\r\n\r\n    series: [{\r\n        type: 'candlestick',\r\n        name: '',\r\n        id: 'candle',\r\n        zIndex: 2,\r\n        data: [\r\n          [0,0,0,0,0],\r\n        ]\r\n    }, {\r\n        type: 'column',\r\n        name: 'Volume',\r\n        id: 'volume',\r\n        data: [\r\n\r\n          [ 1539907200000, 2278720 ],\r\n     \r\n        ],\r\n        yAxis: 1\r\n    }, {\r\n        type: 'vbp',\r\n        linkedTo: 'candle',\r\n        params: {\r\n            volumeSeriesID: 'volume'\r\n        },\r\n        dataLabels: {\r\n            enabled: false\r\n        },\r\n        zoneLines: {\r\n            enabled: false\r\n        }\r\n    }, {\r\n        type: 'sma',\r\n        linkedTo: 'candle',\r\n        zIndex: 1,\r\n        marker: {\r\n            enabled: false\r\n        }\r\n    }]\r\n  }\r\n\r\n\r\n\r\n  constructor(private detailService: DetailsService, private alertService: AlertsService, private route: ActivatedRoute) {}\r\n\r\n  ngOnDestroy(){\r\n\r\n    clearInterval(this.interval);\r\n  }\r\n\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.route.paramMap.subscribe(params => {\r\n      this.ticker = params.get(\"ticker\").toUpperCase();\r\n      let watchlist = JSON.parse(localStorage.getItem(\"watchlist\"));\r\n\r\n      if (watchlist){\r\n        this.isAddedToFav = watchlist[this.ticker] || false;\r\n      }\r\n    })\r\n    \r\n\r\n    this.interval = setInterval(() => {\r\n      this.update();\r\n    }, 15000);\r\n\r\n    this.isError = false;\r\n    this.isLoading = true;\r\n\r\n    this.detailService.getCompanyDetails(this.ticker).subscribe ( responseList => {\r\n\r\n      this.companyDetails = responseList[0].results;\r\n      this.companyPrice = responseList[1].results;\r\n\r\n      if (this.companyDetails.length == 0 || this.companyPrice.length == 0){\r\n        this.isError = true;\r\n        clearInterval(this.interval);\r\n        return;\r\n      }\r\n\r\n      if (this.companyPrice[0].change < 0) {\r\n        this.isChangeNeg = true;\r\n      }else if (this.companyPrice[0].change > 0) {\r\n        this.isChangePos = true;\r\n      }\r\n\r\n      if (!this.companyPrice[0].isMarketOpen){\r\n        clearInterval(this.interval);\r\n      }\r\n\r\n      this.detailService.getDailyChart(this.ticker, this.companyPrice[0].timestamp.slice(0, 10)).subscribe(res => {\r\n\r\n        this.dailyChart = res.results;\r\n        this.updateDailyChart();\r\n        this.isLoading = false;\r\n        this.updateFlag = true;\r\n      });\r\n    });\r\n\r\n    this.detailService.getNewsAndHisChart(this.ticker).subscribe ( res => {\r\n\r\n      this.companyNews = res[0].results;\r\n      this.histChart = res[1].results;\r\n      this.updateHistChart();\r\n\r\n    });\r\n  }\r\n\r\n  calculateClassesForPrice() {\r\n    return {\r\n        'positive': this.isChangePos,\r\n        'negative': this.isChangeNeg\r\n    };\r\n  }\r\n\r\n\r\n  updateHistChart() {\r\n    for (var i = 0; i < this.histChart.length; i++) {\r\n      this.histData.ohlc.push([\r\n        this.histChart[i].date, this.histChart[i].open, \r\n        this.histChart[i].high, this.histChart[i].low, this.histChart[i].close\r\n      ]);\r\n      this.histData.volumne.push([this.histChart[i].date, this.histChart[i].volume]);\r\n    }\r\n\r\n    this.chartOptionsHist.series[0]['data'] = this.histData.ohlc;\r\n    this.chartOptionsHist.series[1]['data'] = this.histData.volumne;\r\n    this.chartOptionsHist.series[0]['name'] = this.ticker;\r\n\r\n    this.chartOptionsHist.title['text'] = '<h2>' + this.ticker + ' Historical</h2>';\r\n    this.updateFromInput = true;\r\n \r\n  }\r\n\r\n  updateDailyChart() {\r\n    for (var i = 0; i < this.dailyChart.length; i++) {\r\n      this.dailyChart[i] = [new Date(this.dailyChart[i].date).getTime(), this.dailyChart[i].close]\r\n    }\r\n\r\n    this.chartOptionsDaily.series[0]['data'] = this.dailyChart;\r\n    this.chartOptionsDaily.series[0]['name'] = this.ticker;\r\n    this.chartOptionsDaily.title['text'] = '<h2>' + this.ticker + '</h2>';\r\n\r\n    \r\n    if (this.isChangeNeg) {\r\n      this.chartOptionsDaily.series[0].color = 'red';\r\n      this.chartOptionsDaily.navigator.series[0].color = 'red';\r\n    }else if (this.isChangePos){\r\n      this.chartOptionsDaily.series[0].color = 'green';\r\n      this.chartOptionsDaily.navigator.series[0].color = 'green';\r\n    }else{\r\n      this.chartOptionsDaily.series[0].color = 'black';\r\n      this.chartOptionsDaily.navigator.series[0].color = 'black';\r\n    }\r\n  }\r\n\r\n  toggleWatchlist() {\r\n\r\n    if (this.isAddedToFav){\r\n\r\n      let watchlist = JSON.parse(localStorage.getItem(\"watchlist\"));\r\n      delete watchlist[this.ticker];\r\n      localStorage.setItem(\"watchlist\", JSON.stringify(watchlist));\r\n      this.isAddedToFav = false;\r\n      this.alertService.showWatchlistAlert(this.isAddedToFav, this.companyDetails[0].ticker);\r\n\r\n    }else{\r\n\r\n      let watchlist = JSON.parse(localStorage.getItem(\"watchlist\")) || {};  // should be a dictionary\r\n      watchlist[this.ticker] = this.companyDetails[0].name;\r\n      localStorage.setItem(\"watchlist\", JSON.stringify(watchlist));\r\n      this.isAddedToFav = true;\r\n      this.alertService.showWatchlistAlert(this.isAddedToFav, this.companyDetails[0].ticker);\r\n\r\n    } \r\n\r\n  }\r\n\r\n  update() {\r\n\r\n    this.detailService.getMultiCompanyInfo([this.ticker], 'price').subscribe ( responseList => {\r\n\r\n      this.companyPrice = responseList.results;\r\n\r\n      if (this.companyPrice[0].change < 0) {\r\n        this.isChangeNeg = true;\r\n      }else if (this.companyPrice[0].change > 0) {\r\n        this.isChangePos = true;\r\n      }\r\n\r\n      if (!this.companyPrice[0].isMarketOpen){\r\n        clearInterval(this.interval);\r\n      }\r\n\r\n      this.detailService.getDailyChart(this.ticker, this.companyPrice[0].timestamp.slice(0, 10)).subscribe(res => {\r\n\r\n        this.dailyChart = res.results;\r\n        this.updateDailyChart();\r\n        this.isLoading = false;\r\n        this.updateFlag = true;\r\n      });\r\n    });\r\n  }\r\n\r\n}\r\n","<div>\r\n    <div *ngIf=\"isError; else noErrorBlock\">\r\n        <div class=\"container\">\r\n            <div class=\"row px-4 px-md-0\">\r\n                <div class=\"col text-center alert alert-danger mt-5\" role=\"alert\">\r\n                    No results found. Please enter valid Ticker\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <ng-template #noErrorBlock>\r\n        <div *ngIf=\"isLoading\" class=\"is-loading spinner\" layout=\"row\" layout-align=\"center center\">\r\n            <mat-spinner mode=\"indeterminate\" diameter=\"60\"></mat-spinner>\r\n        </div>\r\n        <ng-container *ngIf=\"!isLoading\">\r\n            <div class=\"container mt-3\"> \r\n                <div class=\"row\">\r\n                    <div class=\"col\">\r\n                        <div id=\"watchlist-alert\">\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <div class=\"col\">\r\n                        <div id=\"buy-alert\">\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row h3 my-0 py-0 align-items-center\">\r\n                    <div class=\"col\">                  \r\n                        {{ companyDetails[0].ticker }} \r\n                        <span class=\"star\" *ngIf=\"!isAddedToFav\" (click)=\"toggleWatchlist()\">\r\n                            <svg width=\"0.6em\" height=\"0.6em\" viewBox=\"0 0 16 16\" class=\"bi bi-star\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path fill-rule=\"evenodd\" d=\"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z\"/>\r\n                            </svg>\r\n                        </span>\r\n                        <span class=\"star\" *ngIf=\"isAddedToFav\" (click)=\"toggleWatchlist()\">\r\n                            <svg width=\"0.6em\" height=\"0.6em\" viewBox=\"0 0 16 16\" class=\"bi bi-star-fill\" fill=\"gold\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path d=\"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z\"/>\r\n                            </svg>\r\n                        </span>\r\n                    </div>\r\n                    <div class=\"col align-end\" [ngClass]=\"calculateClassesForPrice()\" >\r\n                        {{ companyPrice[0].last | number:'1.2-2' }}\r\n                    </div>\r\n                </div>\r\n                <div class=\"row h5 my-0 py-0 text-muted align-items-center\">\r\n                    <div class=\"col\">\r\n                        {{ companyDetails[0].name }}\r\n                    </div>\r\n                    <div class=\"col align-end\" [ngClass]=\"calculateClassesForPrice()\">\r\n                        <span *ngIf=\"isChangePos\"> \r\n                            <svg width=\"0.8em\" height=\"0.8em\" viewBox=\"0 0 16 16\" class=\"bi bi-caret-down-fill\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path d=\"M7.247 4.86l-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z\"/>\r\n                            </svg>\r\n                        </span>\r\n                        <span *ngIf=\"isChangeNeg\">\r\n                            <svg width=\"0.8em\" height=\"0.8em\" viewBox=\"0 0 16 16\" class=\"bi bi-caret-down-fill\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path d=\"M7.247 11.14L2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z\"/>\r\n                            </svg>\r\n                        </span>\r\n                        <span> {{ companyPrice[0].change | number:'1.2-2' }} ({{ companyPrice[0].perChange | number:'1.2-2'}} &#37;) </span>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row align-items-center\">\r\n                    <div class=\"col\">\r\n                        {{ companyDetails[0].exchangeCode }}\r\n                    </div>\r\n                    <div class=\"col align-end\">\r\n                        {{ companyPrice[0].currDate | date:'y-MM-dd HH:mm:ss' : 'PST' }}\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <app-buy-modal [companyDetail]=\"companyDetails\" [companyPrice]=\"companyPrice\" [isBuy]=\"true\" [buttonPortfolio]=\"false\"></app-buy-modal>\r\n                </div>\r\n                <div class=\"row pt-2\">\r\n                    <div class=\"col text-center\" >\r\n                        <div *ngIf=\"companyPrice[0].isMarketOpen; else marketClosed\">\r\n                            <span class=\"market-open\"> Market is Open </span>\r\n                        </div>\r\n                        <ng-template #marketClosed>\r\n                            <span class=\"market-closed\">Market closed on {{ companyPrice[0].dataDate | date:'y-MM-dd HH:mm:ss' : 'PST' }}</span>\r\n                        </ng-template>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <div class=\"col\">\r\n                        <mat-tab-group mat-align-tabs=\"center\" mat-stretch-tabs>\r\n                            <mat-tab label=\"Summary\">\r\n                                <ng-template matTabContent>\r\n                                <div class=\"container\">\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-12 col-lg-6\">\r\n                                            <div class=\"row no-gutters p-2 py-5\">\r\n                                                <div class=\"col d-flex justify-content-center\">\r\n                                                    <table class=\"\">\r\n                                                        <tbody>\r\n                                                          <tr>\r\n                                                            <td>High Price:</td>\r\n                                                            <td>{{ companyPrice[0].high | number:'1.2-2' }}</td>\r\n                                                          </tr>\r\n                                                          <tr>\r\n                                                            <td>Low Price:</td>\r\n                                                            <td>{{ companyPrice[0].low | number:'1.2-2' }}</td>\r\n                                                          </tr>\r\n                                                          <tr>\r\n                                                            <td>Open Price:</td>\r\n                                                            <td>{{ companyPrice[0].open | number:'1.2-2' }}</td>\r\n                                                          </tr>\r\n                                                          <tr>\r\n                                                            <td>Prev. Close: </td>\r\n                                                            <td>{{ companyPrice[0].prevClose | number:'1.2-2' }}</td>\r\n                                                          </tr>\r\n                                                          <tr>\r\n                                                            <td>Volume: </td>\r\n                                                            <td>{{ companyPrice[0].volume | number }}</td>\r\n                                                          </tr>\r\n                                                        </tbody>\r\n                                                    </table>\r\n\r\n                                                </div>\r\n                                                <div class=\"col d-flex justify-content-center\">\r\n                                                    <table class=\"\" *ngIf=\"companyPrice[0].isMarketOpen\">\r\n                                                        <tbody>\r\n                                                          <tr>\r\n                                                            <td>Mid Price:</td>\r\n                                                            <div *ngIf=\"companyPrice[0].mid else elseMidpriceBlock\">\r\n                                                                <td>{{ companyPrice[0].mid | number:'1.2-2' }}</td>\r\n                                                            </div>\r\n                                                            <ng-template #elseMidpriceBlock>\r\n                                                                <td>-</td>\r\n                                                            </ng-template>\r\n                                                          </tr>\r\n                                                          <tr>\r\n                                                            <td>Ask Price:</td>\r\n                                                            <div *ngIf=\"companyPrice[0].askPrice else elseAskpriceBlock\">\r\n                                                                <td>{{ companyPrice[0].askPrice| number:'1.2-2' }}</td>\r\n                                                            </div>\r\n                                                            <ng-template #elseAskpriceBlock>\r\n                                                                <td>-</td>\r\n                                                            </ng-template>\r\n                                                          </tr>\r\n                                                          <tr>\r\n                                                            <td>Ask Size:</td>\r\n                                                            <div *ngIf=\"companyPrice[0].askSize else elseAsksizeBlock\">\r\n                                                                <td>{{ companyPrice[0].askSize | number }}</td>\r\n                                                            </div>\r\n                                                            <ng-template #elseAsksizeBlock>\r\n                                                                <td>-</td>\r\n                                                            </ng-template>\r\n                                                          </tr>\r\n                                                          <tr>\r\n                                                            <td>Bid Price:</td>\r\n                                                            <div *ngIf=\"companyPrice[0].bidPrice else elseBidpriceBlock\">\r\n                                                                <td>{{ companyPrice[0].bidPrice | number:'1.2-2' }}</td>\r\n                                                            </div>\r\n                                                            <ng-template #elseBidpriceBlock>\r\n                                                                <td>-</td>\r\n                                                            </ng-template>\r\n                                                          </tr>\r\n                                                          <tr>\r\n                                                            <td>Bid Size:</td>\r\n                                                            <div *ngIf=\"companyPrice[0].bidSize else elseBidsizeBlock\">\r\n                                                                <td>{{ companyPrice[0].bidSize | number }}</td>\r\n                                                            </div>\r\n                                                            <ng-template #elseBidsizeBlock>\r\n                                                                <td>-</td>\r\n                                                            </ng-template>\r\n                                                          </tr>\r\n                                                        </tbody>\r\n                                                    </table>\r\n\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"row p-2\">\r\n                                                <div class='col col d-flex justify-content-center'>\r\n                                                    <h2>\r\n                                                        Company's Description\r\n                                                    </h2>\r\n    \r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"row py-2\">\r\n                                                <div class=\"col\">\r\n                                                    Start Date: {{ companyDetails[0].startDate }}\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"row\">\r\n                                                <div class=\"col\">\r\n                                                    {{ companyDetails[0].description }}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"col-12 col-lg-6\">\r\n                                            <highcharts-chart \r\n                                            [Highcharts]=\"HighchartsDaily\"\r\n                                            [options]=\"chartOptionsDaily\"\r\n                                            [constructorType]=\"'stockChart'\"\r\n                                            [(update)]=\"updateFlag\" \r\n                                            style=\"width: 100%; height: 400px; display: block;\"\r\n                                            ></highcharts-chart>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </ng-template>\r\n                            </mat-tab>\r\n                            <mat-tab label=\"Top News\"> \r\n                                <app-news-modal [companyNews]=\"companyNews\" ></app-news-modal>\r\n                            </mat-tab>\r\n                            <mat-tab label=\"Charts\">\r\n                                <div class=\"container\">\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col\">\r\n                                            <ng-template matTabContent>\r\n                                                <highcharts-chart \r\n                                                [Highcharts]=\"HighchartsHist\"\r\n                                                [options]=\"chartOptionsHist\"\r\n                                                [constructorType]=\"'stockChart'\" \r\n                                                [(update)]=\"updateFromInput\"\r\n                                                style=\"width: 100%; height:80vh; display: block;\"\r\n                                                ></highcharts-chart>\r\n                                            </ng-template>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>    \r\n                            </mat-tab>\r\n                        </mat-tab-group>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </ng-container>\r\n    </ng-template>    \r\n</div>\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  title = 'angular-trading-platform';\r\n}\r\n","<div class=\"d-flex flex-column align-self-stretch\" style=\"min-height: 100%;\">\r\n\t<nav class=\"navbar sticky-top navbar-expand-lg navbar-dark bg-dark\">\r\n\t\t<a style=\"outline: none;\" routerLink=\"/\" class=\"navbar-brand nav-link\">Stock Search</a>\r\n\t\t<button  class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n\t\t\t<span class=\"navbar-toggler-icon\" >\r\n\t\t\t</span>\r\n\t\t</button>\r\n\t\r\n\t\t  <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n\t\t\t<ul class=\"navbar-nav ml-md-auto\">\r\n\t\t\t\t<li class=\"nav-item\">\r\n\t\t\t\t\t<a class=\"nav-link\" [routerLinkActiveOptions]=\"{ exact: true }\" routerLink=\"/\" routerLinkActive=\"active-route\">\r\n\t\t\t\t\t\t<div class=\"px-2 text-right\">\r\n\t\t\t\t\t\t\tSearch\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li class=\"nav-item\">\r\n\t\t\t\t\t<a class=\"nav-link\" routerLink=\"/watchlist\" routerLinkActive=\"active-route\">\r\n\t\t\t\t\t\t<div class=\"px-2 text-right\">\r\n\t\t\t\t\t\t\tWatchlist\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t  </li>\r\n\t\t\t\t  <li class=\"nav-item\">\r\n\t\t\t\t\t<a class=\"nav-link\" routerLink=\"/portfolio\" routerLinkActive=\"active-route\">\r\n\t\t\t\t\t\t<div class=\"px-2 text-right \">\r\n\t\t\t\t\t\t\tPortfolio\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t  </li>\r\n\t\t\t</ul>\r\n\t\t  </div>\r\n\t</nav>\r\n\t<div class=\"flex-grow-1\">\r\n\t\t<router-outlet></router-outlet>\r\n\t</div>\r\n\r\n\t<div class=\"d-flex justify-content-center p-3 mt-3 footer\">\r\n\t\tPowered by Tingo. \r\n\t</div>\r\n</div>\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AlertsService {\r\n\r\n  watchlistTimer;\r\n  buyTimer;\r\n\r\n  constructor() { }\r\n\r\n\r\n  showWatchlistAlert(isAdded: boolean, ticker: string){\r\n\r\n    clearTimeout(this.watchlistTimer);\r\n\r\n    let alertType = \"alert-success\";\r\n    let alertText = ticker + \" added to Watchlist\";\r\n\r\n    if (!isAdded) {\r\n      alertType = \"alert-danger\";\r\n      alertText = ticker + \" removed from Watchlist\"\r\n    }\r\n\r\n    document.querySelector(\"#watchlist-alert\").innerHTML = (\r\n    '<div class=\"text-center alert alert-dismissible fade show ' + alertType + '\" role=\"alert\">' +\r\n      alertText + '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"> \\\r\n        <span aria-hidden=\"true\">&times;</span> \\\r\n      </button> \\\r\n    </div>');\r\n\r\n    this.watchlistTimer = setTimeout(function () { \r\n  \r\n      // Closing the alert \r\n      (<any>$('#watchlist-alert .' + alertType)).alert('close'); \r\n    }, 5000); \r\n  }\r\n\r\n\r\n  showBuyAlert(ticker: string){\r\n\r\n    if (!document.querySelector(\"#buy-alert\")){\r\n\r\n      // console.log(\"not alert\");\r\n      return;\r\n    }\r\n\r\n    clearTimeout(this.buyTimer);\r\n\r\n    let alertType = \"alert-success\";\r\n    let alertText = ticker + \" bought sucessfully!\";\r\n\r\n\r\n    document.querySelector(\"#buy-alert\").innerHTML = (\r\n    '<div class=\"text-center alert alert-dismissible fade show ' + alertType + '\" role=\"alert\">' +\r\n      alertText + '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"> \\\r\n        <span aria-hidden=\"true\">&times;</span> \\\r\n      </button> \\\r\n    </div>');\r\n\r\n    this.buyTimer = setTimeout(function () { \r\n  \r\n      // Closing the alert \r\n      (<any>$('#buy-alert .' + alertType)).alert('close'); \r\n    }, 5000); \r\n  }\r\n\r\n\r\n\r\n}\r\n","export class HistChart {\r\n\r\n    constructor(\r\n        public date: number, \r\n        public open: string,\r\n        public high: string,\r\n        public low: string,\r\n        public close: string,\r\n        public volume: string) {\r\n\r\n            this.date = new Date(date).getTime();\r\n        }\r\n}\r\n\r\nexport interface HistChartResponse {\r\n    total: Number;\r\n    results: HistChart[];\r\n    success: boolean;\r\n}","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { HttpClientModule } from '@angular/common/http';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { WatchlistComponent } from './components/watchlist/watchlist.component';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { HttpClientInMemoryWebApiModule } from 'angular-in-memory-web-api';\r\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\r\nimport { MatProgressSpinnerModule }  from '@angular/material/progress-spinner'\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatTabsModule } from '@angular/material/tabs'\r\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\r\n\r\nimport { InMemDataService } from 'src/app/services/in-memory-data.service';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { TickerSearchComponent } from './components/ticker-search/ticker-search.component';\r\nimport { DetailsComponent } from './components/details/details.component';\r\nimport { HighchartsChartModule } from 'highcharts-angular';\r\nimport { NewsModalComponent } from './components/news-modal/news-modal.component';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { BuyModalComponent } from './components/buy-modal/buy-modal.component';\r\nimport { PortfolioComponent } from './components/portfolio/portfolio.component';\r\n// import { AngularFontAwesomeModule } from 'angular-font-awesome';\r\nimport * as $ from 'jquery';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    TickerSearchComponent,\r\n    WatchlistComponent,\r\n    DetailsComponent,\r\n    NewsModalComponent,\r\n    BuyModalComponent,\r\n    PortfolioComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    HttpClientModule,\r\n    BrowserAnimationsModule,\r\n    MatFormFieldModule, \r\n    MatIconModule,\r\n    MatAutocompleteModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    MatProgressSpinnerModule,\r\n    MatInputModule,\r\n    MatTabsModule,\r\n    HighchartsChartModule,\r\n    NgbModule,\r\n    // AngularFontAwesomeModule\r\n  ],\r\n  \r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { forkJoin } from 'rxjs';\r\nimport { CompanyDetails, DetailsResponse } from 'src/app/models/CompanyDetails';\r\nimport { CompanyPrice, PriceResponse } from 'src/app/models/CompanyPrice';\r\nimport { DetailsService } from 'src/app/services/details.service';\r\n\r\n@Component({\r\n  selector: 'app-portfolio',\r\n  templateUrl: './portfolio.component.html',\r\n  styleUrls: ['./portfolio.component.css']\r\n})\r\nexport class PortfolioComponent implements OnInit {\r\n\r\n  isLoading = true;\r\n  isPortfolioEmpty = true;\r\n  portfolioList = {};\r\n  portfolioData = [];\r\n  portfolioCompPrice: CompanyPrice[] = [];\r\n\r\n  constructor(private detailService: DetailsService) { }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.updateData(-1);\r\n  }\r\n\r\n  updateData(index: number){\r\n\r\n    this.portfolioList = JSON.parse(localStorage.getItem(\"portfolio\")) || {}\r\n    let portfolioKeys = Object.keys(this.portfolioList)\r\n    \r\n\r\n    portfolioKeys.sort();\r\n    this.isPortfolioEmpty = (portfolioKeys.length == 0);\r\n\r\n    if (this.isPortfolioEmpty){\r\n      return;\r\n    }\r\n\r\n    const observables = this.detailService.getMultiCompanyInfo(portfolioKeys, 'price');\r\n    \r\n    this.detailService.getMultiCompanyInfo(portfolioKeys, 'price').subscribe(res => {\r\n\r\n      this.portfolioCompPrice = res.results.map((item : PriceResponse) => item);\r\n      this.updateDisplay(index);\r\n      this.isLoading = false;\r\n    })\r\n  }\r\n\r\n\r\n  updateDisplay(index: number){\r\n\r\n    let qty = 0;\r\n    let avgCost = 0;\r\n    let totalCost = 0;\r\n    let change = 0;\r\n    let name; \r\n\r\n    if (index != -1){\r\n      this.portfolioData.splice(index, 1);      \r\n    }\r\n\r\n    for (var i = 0; i < this.portfolioCompPrice.length; i++) {\r\n\r\n      qty = this.portfolioList[this.portfolioCompPrice[i].ticker][0];\r\n      totalCost = this.portfolioList[this.portfolioCompPrice[i].ticker][1];\r\n      avgCost = totalCost / qty;\r\n      change = +(this.portfolioCompPrice[i].last - avgCost).toFixed(3);\r\n      name = this.portfolioList[this.portfolioCompPrice[i].ticker][2];\r\n\r\n      if (this.portfolioData.length == this.portfolioCompPrice.length){\r\n        this.portfolioData[i].last = this.portfolioCompPrice[i].last;\r\n        this.portfolioData[i].qty = qty;\r\n        this.portfolioData[i].totalCost = totalCost;\r\n        this.portfolioData[i].avgCost = +avgCost.toFixed(3);\r\n        this.portfolioData[i].change = change;  \r\n        this.portfolioData[i].marketVal = +(this.portfolioCompPrice[i].last * qty).toFixed(3);\r\n        this.portfolioData[i].isChangeNeg = change < 0;\r\n        this.portfolioData[i].isChangePos = change > 0;\r\n      }else{\r\n\r\n        this.portfolioData.push({\r\n          name: name,\r\n          ticker: this.portfolioCompPrice[i].ticker,\r\n          last : this.portfolioCompPrice[i].last,\r\n          qty: qty,\r\n          totalCost: totalCost,\r\n          avgCost: +avgCost.toFixed(3),\r\n          change: change,\r\n          marketVal: +(this.portfolioCompPrice[i].last * qty).toFixed(3),\r\n          isChangeNeg: change < 0,\r\n          isChangePos: change > 0,\r\n        });\r\n      }\r\n    }\r\n  }\r\n}\r\n","<div>\r\n    <div class=\"container\">\r\n        <div class=\"row px-4 px-sm-0\">\r\n            <div class='col mt-4'>\r\n                <h1>My Portfolio</h1>\r\n            </div>\r\n        </div>\r\n        <div *ngIf=\"isPortfolioEmpty;\">\r\n            <div class=\"row px-4 px-sm-0\">\r\n                <div class=\"col text-center alert alert-warning\" role=\"alert\">\r\n                    Currently you don't have any stock\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div *ngIf=\"!isPortfolioEmpty;\">\r\n            <div *ngIf=\"isLoading\" class=\"is-loading spinner\" layout=\"row\" layout-align=\"center center\">\r\n                <mat-spinner mode=\"indeterminate\" diameter=\"60\"></mat-spinner>\r\n            </div>\r\n            <ng-container *ngIf=\"!isLoading\">\r\n                <div class=\"row\" *ngFor=\"let item of portfolioData; let i = index\">\r\n                    <div class=\"col\">\r\n                        <div class=\"card mb-3\">\r\n                            <div class=\"card-header\">\r\n                                <strong> {{ item.ticker }} </strong>  <span>  {{item.name}} </span>\r\n                            </div>\r\n                            <div class=\"card-body portfolio-font\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-12 col-md-6\">\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col\">\r\n                                                Quantity:\r\n                                            </div>\r\n                                            <div class=\"col align-end\">\r\n                                                {{ item.qty | number}}\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col\">\r\n                                                Avg. Cost / Share:\r\n                                            </div>\r\n                                            <div class=\"col align-end\">\r\n                                                {{ item.avgCost | number:'1.2-2'}}\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col \">\r\n                                                Total Cost:\r\n                                            </div>\r\n                                            <div class=\"col align-end\">\r\n                                                {{ item.totalCost | number:'1.2-2'}}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div class=\"col-12 col-md-6\">\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col\">\r\n                                                Change:\r\n                                            </div>\r\n                                            <div class=\"col align-end\">\r\n                                                <span *ngIf=\"item.isChangePos\" class=\"positive\"> \r\n                                                    <svg width=\"0.8em\" height=\"0.8em\" viewBox=\"0 0 16 16\" class=\"bi bi-caret-down-fill\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                                        <path d=\"M7.247 4.86l-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z\"/>\r\n                                                    </svg>\r\n                                                    {{ item.change | number:'1.2-2'}}\r\n                                                </span>\r\n                                                <span *ngIf=\"item.isChangeNeg\" class=\"negative\">\r\n                                                    <svg width=\"0.8em\" height=\"0.8em\" viewBox=\"0 0 16 16\" class=\"bi bi-caret-down-fill\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                                        <path d=\"M7.247 11.14L2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z\"/>\r\n                                                    </svg>\r\n                                                    {{ item.change | number:'1.2-2'}}\r\n                                                </span>\r\n                                                <span *ngIf=\"!item.isChangePos && !item.isChangeNeg\"> \r\n                                                    {{ item.change | number:'1.2-2'}} \r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col\">\r\n                                                Current Price:\r\n                                            </div>\r\n                                            <div class=\"col align-end\">\r\n                                                <span *ngIf=\"item.isChangePos\" class=\"positive\"> \r\n                                                    <svg width=\"0.8em\" height=\"0.8em\" viewBox=\"0 0 16 16\" class=\"bi bi-caret-down-fill\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                                        <path d=\"M7.247 4.86l-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z\"/>\r\n                                                    </svg>\r\n                                                    {{ item.last | number:'1.2-2'}}\r\n                                                </span>\r\n                                                <span *ngIf=\"item.isChangeNeg\" class=\"negative\">\r\n                                                    <svg width=\"0.8em\" height=\"0.8em\" viewBox=\"0 0 16 16\" class=\"bi bi-caret-down-fill\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                                        <path d=\"M7.247 11.14L2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z\"/>\r\n                                                    </svg>\r\n                                                    {{ item.last | number:'1.2-2'}}\r\n                                                </span>\r\n                                                <span *ngIf=\"!item.isChangePos && !item.isChangeNeg\"> \r\n                                                    {{ item.last | number:'1.2-2'}} \r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col \">\r\n                                                Market Value:\r\n                                            </div>\r\n                                            <div class=\"col align-end\">\r\n                                                <span *ngIf=\"item.isChangePos\" class=\"positive\"> \r\n                                                    <svg width=\"0.8em\" height=\"0.8em\" viewBox=\"0 0 16 16\" class=\"bi bi-caret-down-fill\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                                        <path d=\"M7.247 4.86l-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z\"/>\r\n                                                    </svg>\r\n                                                    {{ item.marketVal | number:'1.2-2' }}\r\n                                                </span>\r\n                                                <span *ngIf=\"item.isChangeNeg\" class=\"negative\">\r\n                                                    <svg width=\"0.8em\" height=\"0.8em\" viewBox=\"0 0 16 16\" class=\"bi bi-caret-down-fill\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                                        <path d=\"M7.247 11.14L2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z\"/>\r\n                                                    </svg>\r\n                                                    {{ item.marketVal | number:'1.2-2'}}\r\n                                                </span>\r\n                                                <span *ngIf=\"!item.isChangePos && !item.isChangeNeg\"> \r\n                                                    {{ item.marketVal | number:'1.2-2' }} \r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"card-footer text-muted\">\r\n                                <div class=\"d-flex flex-row-reverse\">\r\n                                    <app-buy-modal (itemBuyEvent)=\"updateData($event)\" [companyPrice]=\"[portfolioCompPrice[i]]\" [idx]=\"i\" [isBuy]=\"false\"></app-buy-modal>\r\n                                    <app-buy-modal (itemBuyEvent)=\"updateData($event)\" [companyPrice]=\"[portfolioCompPrice[i]]\" [idx]=\"i\" [isBuy]=\"true\" [buttonPortfolio]=\"true\"></app-buy-modal>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </ng-container>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { Injectable } from '@angular/core';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {Observable} from 'rxjs';\r\nimport {combineAll, map, startWith, tap} from 'rxjs/operators';\r\n// import {User, IUserResponse} from 'src/app/models/Users';\r\nimport { CompanySearchResult, InSearchResponse } from 'src/app/models/CompanySearchResult'\r\nimport { constants } from 'buffer';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SearchService {\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  search(filter: {name: string} = {name: ''}): Observable<InSearchResponse> {\r\n    return this.http.get<InSearchResponse>('/api/search/' + filter.name)\r\n    .pipe(\r\n      tap((response: InSearchResponse) => {\r\n        response.results = response.results.map(company => new CompanySearchResult(company.ticker, company.name))\r\n\r\n        return response;\r\n      }));\r\n  }\r\n\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { CompanySearchResult } from '../../models/CompanySearchResult';\r\nimport {Observable} from 'rxjs';\r\nimport {FormBuilder, FormGroup} from '@angular/forms';\r\nimport {SearchService} from 'src/app/services/search.service';\r\nimport {switchMap, debounceTime, tap, finalize, startWith} from 'rxjs/operators';\r\nimport {User, IUserResponse} from 'src/app/models/Users';\r\nimport { tick } from '@angular/core/testing';\r\nimport { Router } from '@angular/router';\r\n\r\n\r\n@Component({\r\n  selector: 'app-ticker-search',\r\n  templateUrl: './ticker-search.component.html',\r\n  styleUrls: ['./ticker-search.component.css']\r\n})\r\nexport class TickerSearchComponent implements OnInit {\r\n\r\n  companySResults: CompanySearchResult[] = [];\r\n  searchForm: FormGroup;\r\n  isLoading = false;\r\n\r\n  \r\n  constructor(private fb: FormBuilder, private appService: SearchService, private router: Router) {}\r\n\r\n  ngOnInit() {\r\n    this.searchForm = this.fb.group({\r\n      userInput: null\r\n    })\r\n\r\n      this.searchForm\r\n      .get('userInput')\r\n      .valueChanges\r\n      .pipe(\r\n        startWith(''),\r\n        debounceTime(300),\r\n        tap(() => this.isLoading = true),\r\n        switchMap(value => this.appService.search({name: value})\r\n        .pipe(\r\n          finalize(() => this.isLoading = false),\r\n          )\r\n        )\r\n      )\r\n      .subscribe(companys => this.companySResults = companys.results);\r\n  }\r\n\r\n  displayFn(company: CompanySearchResult) {\r\n    if (company) { \r\n      return company.ticker; \r\n    }\r\n  }\r\n\r\n  onSubmit(tickerVal: string) {\r\n\r\n    if (tickerVal.length == 0){\r\n      return;\r\n    }\r\n\r\n    this.router.navigateByUrl('details/' + tickerVal);    \r\n  }\r\n\r\n\r\n}\r\n","<div class=\"container pt-5\">\r\n  <div class=\"row justify-content-center pt-5\">\r\n    <div class=\"col-md-auto\">\r\n      <div class=\"text-center display-3 font-weight-normal\">\r\n        STOCK SEARCH\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row justify-content-center pt-5\">\r\n    <div class=\"col-auto\">\r\n      <form class=\"form-container\" [formGroup]='searchForm' (ngSubmit)=\"onSubmit(searchBar.value)\">\r\n        <div class=\"search-container p-1 px-3 col-xs-2\">\r\n          <div class=\"input-group\">\r\n            <input formControlName='userInput' #searchBar type=\"text\" class=\"border-0\" placeholder=\"Enter stock name\" [matAutocomplete]=\"auto\" aria-label=\"Stock ticker name\" aria-describedby=\"basic-addon2\">\r\n            <div class=\"input-group-append\">\r\n              <button class=\"btn p-0 px-2\" type=\"submit\"><i class=\"fa fa-search fa-lg\"></i></button>\r\n            </div>\r\n          </div>\r\n\r\n          <mat-autocomplete #auto=\"matAutocomplete\" [displayWith]=\"displayFn\">\r\n            <mat-option *ngIf=\"isLoading\" class=\"is-loading\"><mat-spinner diameter=\"20\"></mat-spinner></mat-option>\r\n            <ng-container *ngIf=\"!isLoading\">\r\n              <mat-option *ngFor=\"let company of companySResults\" [value]=\"company\">\r\n                <span>{{ company.ticker }}</span>\r\n                <span> | {{ company.name }}</span>\r\n              </mat-option>\r\n            </ng-container>\r\n          </mat-autocomplete>\r\n\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport { Observable, forkJoin, from} from 'rxjs';\r\nimport {concatMap, map, tap, toArray} from 'rxjs/operators';\r\nimport { stringify } from 'querystring';\r\n\r\nimport { CompanyPrice, PriceResponse } from 'src/app/models/CompanyPrice'\r\nimport { CompanyDetails, DetailsResponse} from 'src/app/models/CompanyDetails'\r\nimport { DailyChart, DailyChartResponse } from '../models/DailyChart';\r\nimport { News, NewsResponse } from '../models/News';\r\nimport { HistChart, HistChartResponse } from '../models/HistChart';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DetailsService {\r\n\r\n  private rootURL = '/api';\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n\r\n  \r\n  getMultiCompanyInfo(tickers: string[], route: string): Observable<any>{\r\n\r\n    return this.http.get(this.rootURL + '/'+ route +'/' + tickers.join(','))\r\n      .pipe(\r\n\r\n        tap((res: any) => {\r\n\r\n          if (!res.success) {\r\n            res.results = [];\r\n            return res;\r\n          }\r\n  \r\n          res.results = res.results.map(\r\n            price => new CompanyPrice(price.ticker, price.timestamp, price.last, \r\n              price.prevClose, price.open, price.high, price.low, price.mid, \r\n              price.volume, price.bidSize, price.bidPrice, price.askSize, price.askPrice));\r\n          \r\n          res.results.sort((a, b) => (a.ticker > b.ticker) ? 1 : -1)\r\n        \r\n          return res;\r\n        }),\r\n      )\r\n\r\n  }\r\n\r\n  public getCompanyDetails(ticker: string): Observable<any[]> {\r\n\r\n    let detail$ = this.http.get(this.rootURL + '/detail/' + ticker)\r\n      .pipe(\r\n        tap( (res: DetailsResponse) => {\r\n\r\n          if (!res.success) {\r\n            res.results = [];\r\n            return res;\r\n          }\r\n\r\n          res.results = res.results.map(\r\n            detail => new CompanyDetails(detail.ticker, detail.name, \r\n                detail.description, detail.startDate, detail.exchangeCode));\r\n        \r\n          return res;\r\n      }));\r\n\r\n\r\n    let price$ = this.http.get(this.rootURL + '/price/' + ticker)\r\n      .pipe(\r\n        tap( (res: PriceResponse) => {\r\n\r\n          if (!res.success) {\r\n            res.results = [];\r\n            return res;\r\n          }\r\n\r\n\r\n          res.results = res.results.map(\r\n            price => new CompanyPrice(price.ticker, price.timestamp, price.last, \r\n              price.prevClose, price.open, price.high, price.low, price.mid, \r\n              price.volume, price.bidSize, price.bidPrice, price.askSize, price.askPrice));\r\n        \r\n          return res;\r\n      }));\r\n\r\n    return forkJoin([detail$, price$]);\r\n\r\n  }\r\n\r\n  public getDailyChart(ticker: string, startDate: string): Observable<DailyChartResponse> {\r\n\r\n    return this.http.get<DailyChartResponse>(this.rootURL + '/chart/daily/' + ticker + '/' + startDate)\r\n    \r\n    .pipe(\r\n      tap( (res: DailyChartResponse) => {\r\n        res.results = res.results.map(\r\n          chartData => new DailyChart(chartData.date, chartData.close));\r\n\r\n        return res;\r\n    }));  \r\n  }\r\n\r\n\r\n  public getNewsAndHisChart(ticker: string): Observable<any[]> {\r\n\r\n    let news$ = this.http.get<NewsResponse>(this.rootURL + '/news/' + ticker)\r\n      .pipe(\r\n        tap( (res: NewsResponse) => {\r\n\r\n          if (!res.success) {\r\n            res.results = [];\r\n            return res;\r\n          }\r\n\r\n          res.results = res.results.map(\r\n            news => new News(news.url, news.title, news.description, news.source, \r\n              news.urlToImage, news.publishedAt));\r\n        \r\n          return res;\r\n      }));\r\n\r\n\r\n    let hist$ = this.http.get(this.rootURL + '/chart/historical/' + ticker)\r\n      .pipe(\r\n        tap( (res: HistChartResponse) => {\r\n\r\n          if (!res.success) {\r\n            res.results = [];\r\n            return res;\r\n          }\r\n\r\n          res.results = res.results.map(\r\n            data => new HistChart(data.date, data.open, data.high, data.low, data.close, data.volume));\r\n        \r\n          return res;\r\n      }));\r\n\r\n    return forkJoin([news$, hist$]);\r\n  }\r\n}\r\n","export class DailyChart {\r\n\r\n    constructor(public date: string, public close: string) {}\r\n}\r\n\r\nexport interface DailyChartResponse {\r\n    total: Number;\r\n    results: DailyChart[];\r\n}","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { TickerSearchComponent  } from 'src/app/components/ticker-search/ticker-search.component';\r\nimport { WatchlistComponent  } from 'src/app/components/watchlist/watchlist.component';\r\nimport { DetailsComponent } from 'src/app/components/details/details.component';\r\nimport { PortfolioComponent } from './components/portfolio/portfolio.component';\r\n\r\nconst routes: Routes = [\r\n\r\n  { path: '', component: TickerSearchComponent },\r\n  { path: 'watchlist', component: WatchlistComponent },\r\n  { path: 'details/:ticker', component: DetailsComponent },\r\n  { path: 'portfolio', component: PortfolioComponent },\r\n  { path: '**',   redirectTo: '', pathMatch: 'full' }\r\n  \r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { NgbActiveModal, NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { News } from 'src/app/models/News';\r\n\r\n@Component({\r\n  selector: 'app-news-modal',\r\n  templateUrl: './news-modal.component.html',\r\n  styleUrls: ['./news-modal.component.css']\r\n})\r\n\r\nexport class NewsModalComponent implements OnInit {\r\n\r\n  @Input() companyNews: News[];\r\n  @Input() currNews: News;\r\n\r\n  constructor(private modalService: NgbModal) {}\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  open(news, content) {\r\n    this.currNews = news;\r\n    this.modalService.open(content);\r\n  }\r\n\r\n}\r\n","<div>\r\n    <div class=\"container\">\r\n        <div class=\"row card-deck mt-4\">\r\n            <div class=\"col-12 col-md-6 align-items-stretch d-flex mb-3\" *ngFor=\"let news of companyNews\">\r\n                <div class=\"card bg-light d-flex news-item p-4\" (click)=\"open(news, content)\">\r\n                    <div class=\"row align-items-center\">\r\n                        <div class=\"col-lg-4 col-12\">\r\n                            <img src=\"{{ news.urlToImage }}\" class=\"card-img-top\" alt=\"...\">\r\n                        </div>\r\n                        <div class=\"col-md-8 col-12 p-0\">\r\n                            <div class=\"card-body\">\r\n                                <h5 class=\"card-title\">{{ news.title }}</h5>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<ng-template #content let-c=\"close\" let-d=\"dismiss\">\r\n    <div class=\"modal-header\">\r\n      <div class=\"modal-title\" id=\"\" >\r\n          <h1> {{ currNews.source }} </h1>\r\n          <h5> {{ currNews.publishedAt }} </h5>\r\n      </div>\r\n\r\n      <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"d('Cross click')\">\r\n        <span aria-hidden=\"true\">&times;</span>\r\n      </button>\r\n    </div>\r\n    <div class=\"modal-body\">\r\n        <h2>\r\n            {{ currNews.title }}\r\n        </h2>\r\n        <p>{{ currNews.description }}</p>\r\n        <p>\r\n          For more details click <a href=\"{{ currNews.url}}\" target=\"_blank\">here</a>\r\n        </p>\r\n    </div>\r\n    <div class=\"modal-footer\">\r\n        <div class=\"col mr-auto d-flex align-items-stretch flex-column p-2 border bg-sucess\">\r\n            <div class=\"\"> Share</div>\r\n            <div class=\"d-flex flex-row\">\r\n                <div class=\"\">\r\n                    <a target=\"_blank\" href=\"{{ 'https://twitter.com/intent/tweet?text=' + currNews.encodedTitle  + '%20' + currNews.encodedUrl }}\" class=\"twitter-share-button\" data-show-count=\"false\">\r\n                        <i class=\"fa fa-3x fa-twitter\"></i>\r\n                    </a>\r\n                    <script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\r\n                </div>\r\n                <div class=\"ml-2\" attr.data-href=\"{{ currNews.url }}\" data-layout=\"button_count\" data-size=\"small\">\r\n                    <a target=\"_blank\" href=\"{{ 'https://www.facebook.com/sharer/sharer.php?u=' +  currNews.encodedUrl + '&amp;src=sdkpreparse'}}\" class=\"fb-xfbml-parse-ignore\">\r\n                        <i class=\"fa fa-facebook-official fa-3x\" aria-hidden=\"true\"></i>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</ng-template>\r\n    \r\n","export class CompanyPrice {\r\n\r\n    public change: number;\r\n    public perChange: number;\r\n    public currDate: any;\r\n    public dataDate: any;\r\n    public isMarketOpen = false;\r\n    public currDateStr: string;\r\n    public dataDateStr: string;\r\n    public twoYearDateStr: string;\r\n\r\n    constructor(\r\n        public ticker: string,\r\n        public timestamp: string,\r\n        public last: number,\r\n        public prevClose: number,\r\n        public open: number,\r\n        public high: number,\r\n        public low: number,\r\n        public mid: number,\r\n        public volume: number, \r\n        public bidSize: number,\r\n        public bidPrice: number,\r\n        public askSize: number,\r\n        public askPrice: number\r\n    ){\r\n\r\n        this.change = (last - prevClose);\r\n        this.perChange = (this.change / prevClose * 100);\r\n        this.change = parseFloat(this.change.toFixed(2));\r\n        this.perChange = parseFloat(this.perChange.toFixed(2));\r\n        this.dataDate = new Date(timestamp);\r\n        this.currDate = new Date();\r\n        this.dataDateStr = this.getDateStr(this.dataDate) + ' ' + this.getDateTimeStr(this.dataDate);\r\n        this.currDateStr = this.getDateStr(this.currDate) + ' ' + this.getDateTimeStr(this.currDate);\r\n\r\n        if ((this.currDate - this.dataDate) < 60000) {\r\n\r\n            this.isMarketOpen = true;\r\n        }\r\n    }\r\n\r\n    getDateTimeStr(date: any) : string {\r\n\r\n        let hr = '' + date.getHours();\r\n        let min = '' + date.getMinutes();\r\n        let sec = '' + date.getSeconds();\r\n        \r\n        if (min.length < 2){\r\n            min = '0' + min;\r\n        }\r\n\r\n        if (sec.length < 2){\r\n            sec = '0' + sec;\r\n        }\r\n\r\n        return [hr, min, sec].join(':');\r\n    }\r\n\r\n    getDateStr(date: any) : string {\r\n        let month = '' + (date.getMonth() + 1);\r\n        let day = '' + date.getDate();\r\n        let year = date.getFullYear();\r\n\r\n        if (month.length < 2) \r\n            month = '0' + month;\r\n        if (day.length < 2) \r\n            day = '0' + day;\r\n\r\n        return [year, month, day].join('-');\r\n    }\r\n}\r\n\r\nexport interface PriceResponse {\r\n    results: CompanyPrice[];\r\n    success: boolean;\r\n}","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { forkJoin } from 'rxjs';\r\nimport { CompanyDetails, DetailsResponse } from 'src/app/models/CompanyDetails';\r\nimport { CompanyPrice, PriceResponse } from 'src/app/models/CompanyPrice';\r\nimport { DetailsService } from 'src/app/services/details.service';\r\n\r\n@Component({\r\n  selector: 'app-watchlist',\r\n  templateUrl: './watchlist.component.html',\r\n  styleUrls: ['./watchlist.component.css']\r\n})\r\nexport class WatchlistComponent implements OnInit {\r\n\r\n  isWatchListEmpty = true;\r\n  watchlist = JSON.parse(localStorage.getItem(\"watchlist\")) || {};\r\n  watchlistCompDetail: CompanyDetails[] = [];\r\n  watchlistCompPrice: CompanyPrice[] = [];\r\n  watchlistData = []\r\n  isLoading = true;\r\n\r\n  constructor(private detailService: DetailsService) { }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.updateData();\r\n  }\r\n\r\n  updateData(){\r\n\r\n    this.watchlist = JSON.parse(localStorage.getItem(\"watchlist\")) || {};\r\n    let watchlistKeys = Object.keys(this.watchlist); \r\n    const observables = this.detailService.getMultiCompanyInfo(watchlistKeys, 'price');\r\n\r\n    this.isWatchListEmpty = (watchlistKeys.length == 0);\r\n\r\n    if (this.isWatchListEmpty){\r\n      return;\r\n    }\r\n\r\n    this.detailService.getMultiCompanyInfo(watchlistKeys, 'price').subscribe(res => {\r\n\r\n      this.watchlistCompPrice = res.results.map((item : PriceResponse) => item);\r\n      this.updateDisplayData();\r\n      this.isLoading = false;\r\n    })\r\n\r\n  }\r\n\r\n  updateDisplayData(){\r\n\r\n    for (var i = 0; i < this.watchlistCompPrice.length; i++) {\r\n\r\n      if (this.watchlistData.length == this.watchlistCompPrice.length){\r\n        this.watchlistData[i].last = this.watchlist[this.watchlistCompPrice[i].ticker];\r\n        this.watchlistData[i].name = this.watchlist[this.watchlistCompPrice[i].ticker];\r\n        this.watchlistData[i].ticker = this.watchlistCompPrice[i].ticker;\r\n        this.watchlistData[i].last = this.watchlistCompPrice[i].last;\r\n        this.watchlistData[i].change = this.watchlistCompPrice[i].change;\r\n        this.watchlistData[i].perChange = this.watchlistCompPrice[i].perChange;\r\n        this.watchlistData[i].isChangeNeg = this.watchlistCompPrice[i].change < 0;\r\n        this.watchlistData[i].isChangePos = this.watchlistCompPrice[i].change > 0;\r\n\r\n      }else{\r\n        this.watchlistData.push({\r\n          name: this.watchlist[this.watchlistCompPrice[i].ticker],\r\n          ticker: this.watchlistCompPrice[i].ticker,\r\n          last : this.watchlistCompPrice[i].last,\r\n          change: this.watchlistCompPrice[i].change,\r\n          perChange: this.watchlistCompPrice[i].perChange,\r\n          isChangeNeg: this.watchlistCompPrice[i].change < 0,\r\n          isChangePos: this.watchlistCompPrice[i].change > 0,\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  removeFromWatchList(index, e){\r\n\r\n    let watchlist = JSON.parse(localStorage.getItem(\"watchlist\"));\r\n    delete watchlist[this.watchlistData[index].ticker];\r\n    localStorage.setItem(\"watchlist\", JSON.stringify(watchlist));\r\n    e.stopPropagation();\r\n\r\n    // delete 1 element at this index \r\n    this.watchlistData.splice(index, 1)\r\n    this.updateData();\r\n  }\r\n\r\n\r\n}\r\n","<div>\r\n    <div class=\"container\">\r\n        <div class=\"row px-4 px-sm-0\">\r\n            <div class='col mt-4'>\r\n                <h1>My Watchlist</h1>\r\n            </div>\r\n        </div>\r\n        <div *ngIf=\"isWatchListEmpty;\">\r\n            <div class=\"row px-4 px-sm-0\">\r\n                <div class=\"col text-center alert alert-warning\" role=\"alert\">\r\n                    Currently you don't have any stock in your watchlist\r\n                </div>\r\n            </div>    \r\n        </div>\r\n        <div *ngIf=\"!isWatchListEmpty;\">\r\n            \r\n            <div *ngIf=\"isLoading\" class=\"is-loading spinner\" layout=\"row\" layout-align=\"center center\">\r\n                <mat-spinner mode=\"indeterminate\" diameter=\"60\"></mat-spinner>\r\n            </div>\r\n            <ng-container *ngIf=\"!isLoading\">\r\n                <div class=\"px-4 px-sm-0 row\" *ngFor=\"let item of watchlistData; let i = index\"  >\r\n                    \r\n                        <div class=\"col-12 watchlist-item alert fade show border alert-light mb-3\" [routerLink]=\"['/details', item.ticker]\" >\r\n                            <div class=\"row\">\r\n                                <div class=\"col\">\r\n                                    <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\" (click)=\"removeFromWatchList(i, $event)\">\r\n                                        <span aria-hidden=\"true\">&times;</span>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                            <div class='row bold'>\r\n                                <div class=\"col\">\r\n                                    {{ item.ticker }}\r\n                                </div>\r\n                                <div class=\"col align-end\" [ngClass]=\"{ 'positive': item.isChangePos , 'negative': item.isChangeNeg }\">\r\n                                    {{ item.last | number:'1.2-2'}}\r\n                                </div>\r\n                            </div>\r\n                            <div class='row'>\r\n                                <div class=\"col\">\r\n                                    {{ item.name }}\r\n                                </div>\r\n                                <div class=\"col align-end\" [ngClass]=\"\">\r\n                                    <span *ngIf=\"item.isChangePos\" class=\"positive\"> \r\n                                        <svg width=\"0.8em\" height=\"0.8em\" viewBox=\"0 0 16 16\" class=\"bi bi-caret-down-fill\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                            <path d=\"M7.247 4.86l-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z\"/>\r\n                                        </svg>\r\n                                        {{ item.change | number:'1.2-2' }} ({{ item.perChange | number:'1.2-2' }} &#37;)\r\n                                    </span>\r\n                                    <span *ngIf=\"item.isChangeNeg\" class=\"negative\">\r\n                                        <svg width=\"0.8em\" height=\"0.8em\" viewBox=\"0 0 16 16\" class=\"bi bi-caret-down-fill\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                            <path d=\"M7.247 11.14L2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z\"/>\r\n                                        </svg>\r\n                                        {{ item.change | number:'1.2-2' }} ({{ item.perChange | number:'1.2-2'}} &#37;)\r\n                                    </span>\r\n                                    <span *ngIf=\"!item.isChangePos && !item.isChangeNeg\"> \r\n                                        {{ item.change | number:'1.2-2' }} ({{ item.perChange | number:'1.2-2' }} &#37;)\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n    \r\n                </div>\r\n            </ng-container>\r\n            \r\n        </div>\r\n\r\n    </div>\r\n    \r\n</div>\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"]}